import{_ as s,c as n,o as a,a as l}from"./app.eff5f3e9.js";const m=JSON.parse('{"title":"2022年11月11日","description":"","frontmatter":{},"headers":[{"level":2,"title":"头条","slug":"头条","link":"#头条","children":[]},{"level":2,"title":"code","slug":"code","link":"#code","children":[]},{"level":2,"title":"每日一题","slug":"每日一题","link":"#每日一题","children":[]},{"level":2,"title":"产品经理","slug":"产品经理","link":"#产品经理","children":[]}],"relativePath":"2022年11月11日.md","lastUpdated":1668096936000}'),p={name:"2022年11月11日.md"},e=l(`<h1 id="_2022年11月11日" tabindex="-1">2022年11月11日 <a class="header-anchor" href="#_2022年11月11日" aria-hidden="true">#</a></h1><h2 id="头条" tabindex="-1">头条 <a class="header-anchor" href="#头条" aria-hidden="true">#</a></h2><p><a href="https://toutiao.io/k/hlv8j4z" target="_blank" rel="noreferrer">最适合程序员的画图工具？</a></p><p><a href="https://toutiao.io/k/16y0ile" target="_blank" rel="noreferrer">从 Java 8 升级到 Java 17 踩坑全过程，建议收藏</a></p><p><a href="https://toutiao.io/k/x6jr41i" target="_blank" rel="noreferrer">推特按照代码行数来裁员？赶快看一下自己在 Git 仓库中的贡献有多少</a></p><p><a href="https://toutiao.io/k/ej101yr" target="_blank" rel="noreferrer">五大模型揭秘深度学习用于时序预测的最新进展</a></p><p><a href="https://toutiao.io/k/bi198ci" target="_blank" rel="noreferrer">502 问题怎么排查？</a></p><p><a href="https://toutiao.io/k/z4zjxey" target="_blank" rel="noreferrer">Paxos 分布式系统共识算法？我愿称其为点歌算法…</a></p><p><a href="https://toutiao.io/k/o466hbz" target="_blank" rel="noreferrer">Darknet 中的学习率调整策略</a></p><p><a href="https://toutiao.io/k/cy3t720" target="_blank" rel="noreferrer">系统稳定性治理最佳实践</a></p><p><a href="https://toutiao.io/k/blbdcl0" target="_blank" rel="noreferrer"> Data-Parallel Actors：千行代码构建高性能 OLAP 数据库</a></p><p><a href="https://toutiao.io/k/q557n2e" target="_blank" rel="noreferrer">面试官：在 Java 中 new 一个对象的流程是怎样的？彻底被问懵了</a></p><p><a href="https://toutiao.io/k/izalowf" target="_blank" rel="noreferrer">MD5 到底算不算一种加密算法？</a></p><p><a href="https://toutiao.io/k/tapcqg1" target="_blank" rel="noreferrer">这是一份全面 &amp; 详细的 Android 车载系统开发入门指南</a></p><p><a href="https://toutiao.io/k/t075lrm" target="_blank" rel="noreferrer">DDD 的哲学意味（上）</a></p><p><a href="https://toutiao.io/k/n9hibup" target="_blank" rel="noreferrer">带你手把手实操一个 RPC 框架</a></p><p><a href="https://toutiao.io/k/kj8sqe3" target="_blank" rel="noreferrer">OKR 之剑（理念篇一）：OKR 带给我们的改变我们的改变</a></p><p><a href="https://toutiao.io/k/6u3q7ke" target="_blank" rel="noreferrer">[推荐] 新来个技术总监，仅花 2 小时，撸出一个多线程永动任务，看完直接跪了，真牛逼</a></p><p><a href="https://toutiao.io/k/xiqybrh" target="_blank" rel="noreferrer">[推荐] 如何画出一张优秀的架构图？（老鸟必备）</a></p><h2 id="code" tabindex="-1">code <a class="header-anchor" href="#code" aria-hidden="true">#</a></h2><p><a href="https://leetcode.cn/problems/determine-if-string-halves-are-alike" target="_blank" rel="noreferrer">判断字符串的两半是否相似</a></p><h2 id="每日一题" tabindex="-1">每日一题 <a class="header-anchor" href="#每日一题" aria-hidden="true">#</a></h2><div class="language-go line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">go</span><pre class="shiki material-palenight"><code><span class="line"><span style="color:#A6ACCD;">                  这道题看起来很迷惑，目测很多人可能会答错。以下代码输出什么？（这是来自 《Go爱好者周刊》的一道题目，正确率才 </span><span style="color:#F78C6C;">12</span><span style="color:#89DDFF;">%</span><span style="color:#A6ACCD;">）</span></span>
<span class="line"><span style="color:#89DDFF;">package</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">main</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;">import</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">(</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">&quot;</span><span style="color:#FFCB6B;">encoding/json</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">&quot;</span><span style="color:#FFCB6B;">fmt</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">&quot;</span><span style="color:#FFCB6B;">time</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#89DDFF;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;">func</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">main</span><span style="color:#89DDFF;">()</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">    t </span><span style="color:#89DDFF;">:=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">struct</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">        time</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">Time</span></span>
<span class="line"><span style="color:#A6ACCD;">        N </span><span style="color:#C792EA;">int</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">}{</span></span>
<span class="line"><span style="color:#A6ACCD;">        time</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">Date</span><span style="color:#89DDFF;">(</span><span style="color:#F78C6C;">2020</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">12</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">20</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">0</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">0</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">0</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">0</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> time</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">UTC</span><span style="color:#89DDFF;">),</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#F78C6C;">5</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">    m</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> _ </span><span style="color:#89DDFF;">:=</span><span style="color:#A6ACCD;"> json</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">Marshal</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">t</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#A6ACCD;">    fmt</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">Printf</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">%s</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> m</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">A：</span><span style="color:#89DDFF;">{</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">Time</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">2020-12-20T00:00:00Z</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">N</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">5</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;">；B：</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">2020-12-20T00:00:00Z</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;">；C：</span><span style="color:#89DDFF;">{</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">N</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">5</span><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;">；D：</span><span style="color:#89DDFF;">&lt;nil&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">                  </span></span>
<span class="line"><span style="color:#A6ACCD;">                    查看答案</span></span>
<span class="line"><span style="color:#A6ACCD;">                  </span></span>
<span class="line"><span style="color:#A6ACCD;">                </span></span>
<span class="line"><span style="color:#A6ACCD;">                  答案解析：</span></span>
<span class="line"><span style="color:#A6ACCD;">                  正确答案 B，但为什么呢？大家不用在乎是不是刁钻的题目，通过题目能学到知识才是最重要的。</span></span>
<span class="line"><span style="color:#F78C6C;">01</span></span>
<span class="line"><span style="color:#A6ACCD;">对一个结构体实例进行 json 系列化，直觉很容易选 A。但很显然，不可能这么简单，因此需要仔细看代码。至于选 C 和 D 的人，多半是瞎猜的吧，当然选 B 也不排除有瞎猜的。</span></span>
<span class="line"><span style="color:#A6ACCD;">为什么选 B 呢？我想借助一个例子讲解。</span></span>
<span class="line"><span style="color:#89DDFF;">package</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">main</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;">import</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">(</span></span>
<span class="line"><span style="color:#A6ACCD;">	</span><span style="color:#89DDFF;">&quot;</span><span style="color:#FFCB6B;">encoding/json</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">&quot;</span><span style="color:#FFCB6B;">fmt</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#89DDFF;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;">type</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">Person</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">struct</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">  name  </span><span style="color:#C792EA;">string</span></span>
<span class="line"><span style="color:#A6ACCD;">  hobby </span><span style="color:#C792EA;">string</span></span>
<span class="line"><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;">	</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;">func</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">main</span><span style="color:#89DDFF;">()</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">  person </span><span style="color:#89DDFF;">:=</span><span style="color:#A6ACCD;"> Person</span><span style="color:#89DDFF;">{</span><span style="color:#A6ACCD;">name</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">polarisxu</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> hobby</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">Golang</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#A6ACCD;">  m</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> _ </span><span style="color:#89DDFF;">:=</span><span style="color:#A6ACCD;"> json</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">Marshal</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">person</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#A6ACCD;">  fmt</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">Printf</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">%s</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> m</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">如果你认为输出 </span><span style="color:#89DDFF;">{</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">name</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">polarisxu</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">hobby</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">Golang</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;">，那你得去补补 encoding</span><span style="color:#89DDFF;">/</span><span style="color:#A6ACCD;">json 包的知识了。要想输出  </span><span style="color:#89DDFF;">{</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">name</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">polarisxu</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">hobby</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">Golang”}，一般我们会这么做：将 Person 的字段导出，同时设置上 tag。</span></span>
<span class="line"><span style="color:#C3E88D;">type Person struct {</span></span>
<span class="line"><span style="color:#C3E88D;">  Name  string \`json:</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;">name</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">\`</span></span>
<span class="line"><span style="color:#C3E88D;">  Hobby string \`json:</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;">hobby</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">\`</span></span>
<span class="line"><span style="color:#C3E88D;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C3E88D;">但如果我们不想导出 Person 的字段呢？可以通过实现 Marshaler 来做到。</span></span>
<span class="line"><span style="color:#C3E88D;">func (p Person) MarshalJSON() ([]byte, error) {</span></span>
<span class="line"><span style="color:#C3E88D;">	return []byte(\`{</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;">name</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">:</span><span style="color:#89DDFF;">&quot;\`</span><span style="color:#C3E88D;">+p.name+</span><span style="color:#89DDFF;">\`&quot;</span><span style="color:#C3E88D;">,</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;">hobby</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">:</span><span style="color:#89DDFF;">&quot;\`</span><span style="color:#C3E88D;">+p.hobby+</span><span style="color:#89DDFF;">\`&quot;</span><span style="color:#C3E88D;">}\`), nil</span></span>
<span class="line"><span style="color:#C3E88D;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C3E88D;">02</span></span>
<span class="line"><span style="color:#C3E88D;">回到题目上，time.Time 是什么类型？</span></span>
<span class="line"><span style="color:#C3E88D;">type Time struct {</span></span>
<span class="line"><span style="color:#C3E88D;">    // contains filtered or unexported fields</span></span>
<span class="line"><span style="color:#C3E88D;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C3E88D;">这是一个没有导出任何字段的结构体类型，因此它肯定实现了 Marshaler 接口。</span></span>
<span class="line"><span style="color:#C3E88D;">// MarshalJSON implements the json.Marshaler interface.</span></span>
<span class="line"><span style="color:#C3E88D;">// The time is a quoted string in RFC 3339 format, with sub-second precision added if present.</span></span>
<span class="line"><span style="color:#C3E88D;">func (t Time) MarshalJSON() ([]byte, error) {</span></span>
<span class="line"><span style="color:#C3E88D;">	if y := t.Year(); y &lt; 0 || y &gt;= 10000 {</span></span>
<span class="line"><span style="color:#C3E88D;">		// RFC 3339 is clear that years are 4 digits exactly.</span></span>
<span class="line"><span style="color:#C3E88D;">		// See golang.org/issue/4556#c15 for more discussion.</span></span>
<span class="line"><span style="color:#C3E88D;">		return nil, errors.New(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;">Time</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">MarshalJSON</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> year outside of </span><span style="color:#89DDFF;font-style:italic;">range</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">[</span><span style="color:#F78C6C;">0</span><span style="color:#89DDFF;">,</span><span style="color:#F78C6C;">9999</span><span style="color:#89DDFF;">]</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">)</span></span>
<span class="line"><span style="color:#C3E88D;">	}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C3E88D;">	b := make([]byte, 0, len(RFC3339Nano)+2)</span></span>
<span class="line"><span style="color:#C3E88D;">	b = append(b, &#39;</span><span style="color:#89DDFF;">&quot;&#39;</span><span style="color:#C3E88D;">)</span></span>
<span class="line"><span style="color:#C3E88D;">	b = t.AppendFormat(b, RFC3339Nano)</span></span>
<span class="line"><span style="color:#C3E88D;">	b = append(b, </span><span style="color:#89DDFF;">&#39;&quot;</span><span style="color:#C3E88D;">&#39;)</span></span>
<span class="line"><span style="color:#C3E88D;">	return b, nil</span></span>
<span class="line"><span style="color:#C3E88D;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C3E88D;">这么说，答案不应该就是 A 吗？别急。</span></span>
<span class="line"><span style="color:#C3E88D;">03</span></span>
<span class="line"><span style="color:#C3E88D;">如果 t 是这么定义的：</span></span>
<span class="line"><span style="color:#C3E88D;">t := struct {</span></span>
<span class="line"><span style="color:#C3E88D;">  Time time.Time</span></span>
<span class="line"><span style="color:#C3E88D;">  N int</span></span>
<span class="line"><span style="color:#C3E88D;">}{</span></span>
<span class="line"><span style="color:#C3E88D;">  time.Date(2020, 12, 20, 0, 0, 0, 0, time.UTC),</span></span>
<span class="line"><span style="color:#C3E88D;">  5,</span></span>
<span class="line"><span style="color:#C3E88D;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C3E88D;">那结果就是 A。而题目中，time.Time 是内嵌的。你学习 Go 时，应该看过通过内嵌来模拟继承的功能吧！</span></span>
<span class="line"><span style="color:#C3E88D;">正是因为内嵌，t 的方法集包括了 time.Time 的方法集，所以，t 自动实现了 Marshaler 接口。因此答案是 B。</span></span>
<span class="line"><span style="color:#C3E88D;">其实这道题的情况，在日常工作中还真有可能遇到。所以，当你内嵌某个类型时，特别这个类型不是你自己定义的，需要留意这种情况。</span></span>
<span class="line"><span style="color:#C3E88D;">一般解决这个问题的方法有两种：1）不内嵌；2）重新实现 MarshalJSON 方法。</span></span>
<span class="line"><span style="color:#C3E88D;">然而这道题无法重新实现 MarshalJSON 方法，因为结构体类型是匿名的。只能通过不内嵌来得到正确的结果。</span></span>
<span class="line"><span style="color:#C3E88D;">04</span></span>
<span class="line"><span style="color:#C3E88D;">最后一起看下 json.Marshal 函数的文档，主要看下面这段：</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C3E88D;">Marshal traverses the value v recursively. If an encountered value implements the Marshaler interface and is not a nil pointer, Marshal calls its MarshalJSON method to produce JSON. If no MarshalJSON method is present but the value implements encoding.TextMarshaler instead, Marshal calls its MarshalText method and encodes the result as a JSON string. The nil pointer exception is not strictly necessary but mimics a similar, necessary exception in the behavior of UnmarshalJSON.</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C3E88D;">大意是说，如果值实现了 json.Marshaler 接口并且不是 nil 指针，则 Marshal 函数会调用其 MarshalJSON 方法以生成 JSON。如果不存在 MarshalJSON 方法，但该值实现 encoding.TextMarshaler 接口，则 Marshal 函数调用其 MarshalText 方法并将结果编码为 JSON 字符串。</span></span>
<span class="line"><span style="color:#C3E88D;">可见，json.Marshal 函数优先调用 MarshalJSON，然后是 MarshalText，如果都没有，才会走正常的类型编码逻辑。</span></span>
<span class="line"><span style="color:#C3E88D;">答案解析来自：https://polarisxu.studygolang.com/posts/go/action/weekly-question-embed-time/</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C3E88D;">                </span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br><span class="line-number">63</span><br><span class="line-number">64</span><br><span class="line-number">65</span><br><span class="line-number">66</span><br><span class="line-number">67</span><br><span class="line-number">68</span><br><span class="line-number">69</span><br><span class="line-number">70</span><br><span class="line-number">71</span><br><span class="line-number">72</span><br><span class="line-number">73</span><br><span class="line-number">74</span><br><span class="line-number">75</span><br><span class="line-number">76</span><br><span class="line-number">77</span><br><span class="line-number">78</span><br><span class="line-number">79</span><br><span class="line-number">80</span><br><span class="line-number">81</span><br><span class="line-number">82</span><br><span class="line-number">83</span><br><span class="line-number">84</span><br><span class="line-number">85</span><br><span class="line-number">86</span><br><span class="line-number">87</span><br><span class="line-number">88</span><br><span class="line-number">89</span><br><span class="line-number">90</span><br><span class="line-number">91</span><br><span class="line-number">92</span><br><span class="line-number">93</span><br><span class="line-number">94</span><br><span class="line-number">95</span><br><span class="line-number">96</span><br><span class="line-number">97</span><br><span class="line-number">98</span><br><span class="line-number">99</span><br><span class="line-number">100</span><br><span class="line-number">101</span><br><span class="line-number">102</span><br><span class="line-number">103</span><br><span class="line-number">104</span><br><span class="line-number">105</span><br><span class="line-number">106</span><br><span class="line-number">107</span><br><span class="line-number">108</span><br><span class="line-number">109</span><br><span class="line-number">110</span><br><span class="line-number">111</span><br></div></div><h2 id="产品经理" tabindex="-1">产品经理 <a class="header-anchor" href="#产品经理" aria-hidden="true">#</a></h2><p><a href="https://www.woshipm.com/it/5667317.html" target="_blank" rel="noreferrer">职场人过双11，丑拒吃土凑满减！不再熬夜蹲直播！</a></p><p><a href="https://www.woshipm.com/it/5675310.html" target="_blank" rel="noreferrer">中小商户的双11：灵活应对，不想放弃</a></p><p><a href="https://www.woshipm.com/operate/5672884.html" target="_blank" rel="noreferrer">App Store审核被拒原因与解决方案总结 【2022最新】</a></p><p><a href="https://www.woshipm.com/operate/5675668.html" target="_blank" rel="noreferrer">人人都想做社群，但人人都能做社群吗？</a></p><p><a href="https://www.woshipm.com/it/5675653.html" target="_blank" rel="noreferrer">进军北美，低价Temu将何去何从？</a></p><p><a href="https://www.woshipm.com/it/5675647.html" target="_blank" rel="noreferrer">Meta不行了？这5大迷思需破除</a></p><p><a href="https://www.woshipm.com/operate/5675588.html" target="_blank" rel="noreferrer">平均客单50+，卖了26万件了</a></p><p><a href="https://www.woshipm.com/pd/5675707.html" target="_blank" rel="noreferrer">公众号运营设计全套秘籍</a></p><p><a href="https://www.woshipm.com/it/5674902.html" target="_blank" rel="noreferrer">生态变迁里的B站UP主：面包渐少，爱还有多少？</a></p><p><a href="https://www.woshipm.com/data-analysis/5675167.html" target="_blank" rel="noreferrer">投放数据分析丨信息流广告究竟是怎么来到你面前的？（一）</a></p><p><a href="https://www.woshipm.com/it/5675029.html" target="_blank" rel="noreferrer">直播界打工人，卖出了新境界</a></p><p><a href="https://www.woshipm.com/chuangye/5674867.html" target="_blank" rel="noreferrer">2022，中国TO B企业出海实录</a></p><p><a href="https://www.woshipm.com/it/5674372.html" target="_blank" rel="noreferrer">关于2.5D社交入口的哲学思考</a></p><p><a href="https://www.woshipm.com/it/5675405.html" target="_blank" rel="noreferrer">马斯克一周，Twitter 的十年</a></p><p><a href="https://www.woshipm.com/it/5674603.html" target="_blank" rel="noreferrer">小红书的痛点与价值</a></p><p><a href="https://www.woshipm.com/online/5675472.html" target="_blank" rel="noreferrer">“做了3年执行运营，下一步我该往哪里发展”</a></p><p><a href="https://www.woshipm.com/marketing/5674592.html" target="_blank" rel="noreferrer">“双11”临近的背后，电商的玩法已经变了</a></p><p><a href="https://www.woshipm.com/it/5674897.html" target="_blank" rel="noreferrer">拼多多出海60天，攻进北美五环外</a></p><p><a href="https://www.woshipm.com/it/5674046.html" target="_blank" rel="noreferrer">微信搜索广告带来的新机会</a></p><p><a href="https://www.woshipm.com/pd/5674839.html" target="_blank" rel="noreferrer">这一篇让你彻底搞懂微信生态里的二维码！</a></p><p><a href="https://www.woshipm.com/it/5674805.html" target="_blank" rel="noreferrer">这届双11，实体店也想“过把瘾”</a></p><p><a href="https://www.woshipm.com/operate/5674595.html" target="_blank" rel="noreferrer">说唱式直播火爆背后 | ​从拼形式拼内容到拼商业模式，电商直播持续进化</a></p><p><a href="https://www.woshipm.com/it/5674636.html" target="_blank" rel="noreferrer">小红书怎么闯关双十一？</a></p><p><a href="https://www.woshipm.com/it/5674338.html" target="_blank" rel="noreferrer">避免宏大叙事，提出真正的产品创见</a></p><p><a href="https://www.woshipm.com/pd/5674057.html" target="_blank" rel="noreferrer">Saas产品化和定制的历史矛盾该如何解决？</a></p><p><a href="https://www.woshipm.com/it/5673284.html" target="_blank" rel="noreferrer">Twitter难民涌入“长毛象”，这个小众社交平台咋一夜爆红</a></p><p><a href="https://www.woshipm.com/ucd/5673694.html" target="_blank" rel="noreferrer">生态循环服务 ｜迈向“以地球为中心”的服务设计</a></p><p><a href="https://www.woshipm.com/online/5674901.html" target="_blank" rel="noreferrer">与其一直被文案折磨，不如用4周摆脱文案困扰！</a></p><p><a href="https://www.woshipm.com/it/5674630.html" target="_blank" rel="noreferrer">视频号温水煮电商</a></p><p><a href="https://www.woshipm.com/operate/5674030.html" target="_blank" rel="noreferrer">获客增长：ToB企业可以向ToC企业学习哪些？</a></p><p><a href="https://www.woshipm.com/it/5674469.html" target="_blank" rel="noreferrer">B站微博小红书，双11也很忙碌</a></p><p><a href="https://www.woshipm.com/it/5674741.html" target="_blank" rel="noreferrer">喜茶奈雪，为什么抵制“外卖满减”？</a></p><p><a href="https://www.woshipm.com/ucd/5660561.html" target="_blank" rel="noreferrer">人机交互系统模型应用实践分析</a></p><p><a href="https://www.woshipm.com/marketing/5672993.html" target="_blank" rel="noreferrer">品牌搭建初期要做哪些事情？6000字长文告诉你！</a></p><p><a href="https://www.woshipm.com/it/5674353.html" target="_blank" rel="noreferrer">双11，节日卷王</a></p><p><a href="https://www.woshipm.com/operate/5674144.html" target="_blank" rel="noreferrer">模仿视频带火原创，这位大学生的走红有什么启示？</a></p><p><a href="https://www.woshipm.com/ucd/5674345.html" target="_blank" rel="noreferrer">B端设计指南 – 消息通知组件的具体使用</a></p><p><a href="https://www.woshipm.com/it/5674524.html" target="_blank" rel="noreferrer">快手的“双十一”焦虑：抖音拼多多，谁才是真正的对手？</a></p><p><a href="https://www.woshipm.com/it/5673297.html" target="_blank" rel="noreferrer">没了“火药味”的双十一，C位主播们选择“多栖”</a></p><p><a href="https://www.woshipm.com/evaluating/5672064.html" target="_blank" rel="noreferrer">如何写一份靠谱的竞品分析报告？</a></p><p><a href="https://www.woshipm.com/online/5674577.html" target="_blank" rel="noreferrer">25K产品经理和35K产品经理的区别在哪？这是我听过最好的答案</a></p>`,65),r=[e];function o(t,c,i,D,y,F){return a(),n("div",null,r)}const h=s(p,[["render",o]]);export{m as __pageData,h as default};
