import{_ as a,c as e,o as r,a as s}from"./app.eff5f3e9.js";const k=JSON.parse('{"title":"2022年09月23日","description":"","frontmatter":{},"headers":[{"level":2,"title":"头条","slug":"头条","link":"#头条","children":[]},{"level":2,"title":"code","slug":"code","link":"#code","children":[]},{"level":2,"title":"每日一题","slug":"每日一题","link":"#每日一题","children":[]},{"level":2,"title":"产品经理","slug":"产品经理","link":"#产品经理","children":[]}],"relativePath":"2022年09月23日.md","lastUpdated":1663863422000}'),n={name:"2022年09月23日.md"},t=s(`<h1 id="_2022年09月23日" tabindex="-1">2022年09月23日 <a class="header-anchor" href="#_2022年09月23日" aria-hidden="true">#</a></h1><h2 id="头条" tabindex="-1">头条 <a class="header-anchor" href="#头条" aria-hidden="true">#</a></h2><p><a href="https://toutiao.io/k/g205ze9" target="_blank" rel="noreferrer">从我在阿里带队的得与失，谈技术管理如何避免瞎折腾</a></p><p><a href="https://toutiao.io/k/ezsdsf5" target="_blank" rel="noreferrer">Java19的新特性</a></p><p><a href="https://toutiao.io/k/ba4zoy5" target="_blank" rel="noreferrer">10 个 Python 自动探索性数据分析神库！</a></p><p><a href="https://toutiao.io/k/37sno0t" target="_blank" rel="noreferrer">常用红队安全攻防总结</a></p><p><a href="https://toutiao.io/k/e0w0k3h" target="_blank" rel="noreferrer">ClickHouse 与 Hbase的对比</a></p><p><a href="https://toutiao.io/k/su1w6u9" target="_blank" rel="noreferrer">C++最佳实践 | 7. 正确性和脚本</a></p><p><a href="https://toutiao.io/k/9mxyq8f" target="_blank" rel="noreferrer">可恶，又是个线上问题！</a></p><p><a href="https://toutiao.io/k/7ys9z5j" target="_blank" rel="noreferrer">StarRocks内部实时更新技术的实现方案</a></p><p><a href="https://toutiao.io/k/y5ybym1" target="_blank" rel="noreferrer">数字化浪潮下传统房企在营销、物业和商业端的破局之道</a></p><p><a href="https://toutiao.io/k/fbzojk1" target="_blank" rel="noreferrer">如何被连续提拔脱颖而出？</a></p><p><a href="https://toutiao.io/k/gh30o0i" target="_blank" rel="noreferrer">如何监测 Linux 的磁盘 I/O 性能</a></p><p><a href="https://toutiao.io/k/zunvs50" target="_blank" rel="noreferrer">在 Python 中用连字符分割字符串</a></p><p><a href="https://toutiao.io/k/dyeoabv" target="_blank" rel="noreferrer">技术改变了什么？</a></p><p><a href="https://toutiao.io/k/08dtx45" target="_blank" rel="noreferrer">8 个值得尝试的 React 组件库</a></p><p><a href="https://toutiao.io/k/gdc6or2" target="_blank" rel="noreferrer">【第2734期】JavaScript &amp; Node.js 的测试最佳实践 - 第二章：后端测试</a></p><p><a href="https://toutiao.io/k/1qc2crx" target="_blank" rel="noreferrer">看完这篇异地多活的改造，我决定和架构师battle一下</a></p><p><a href="https://toutiao.io/k/aova8r2" target="_blank" rel="noreferrer">10 张图 | 一文带你用 Mac M1 跑 RocketMQ</a></p><p><a href="https://toutiao.io/k/ez0nj6g" target="_blank" rel="noreferrer">他来了！袋鼠云大数据基础平台EasyMR正式上线</a></p><p><a href="https://toutiao.io/k/ij09jix" target="_blank" rel="noreferrer">如何使用 WireGuard 组建非对称路由</a></p><p><a href="https://toutiao.io/k/osewvaz" target="_blank" rel="noreferrer">[推荐] 常见分布式系统设计图解</a></p><p><a href="https://toutiao.io/k/tz7p6nl" target="_blank" rel="noreferrer">[推荐] 1.8w 字的 SQL 优化大全</a></p><p><a href="https://toutiao.io/k/3hh68yl" target="_blank" rel="noreferrer">[推荐] Redis高可用方案</a></p><h2 id="code" tabindex="-1">code <a class="header-anchor" href="#code" aria-hidden="true">#</a></h2><p><a href="https://leetcode.cn/problems/design-linked-list" target="_blank" rel="noreferrer">设计链表</a></p><h2 id="每日一题" tabindex="-1">每日一题 <a class="header-anchor" href="#每日一题" aria-hidden="true">#</a></h2><div class="language-go line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">go</span><pre class="shiki material-palenight"><code><span class="line"><span style="color:#A6ACCD;">                  Go 的 </span><span style="color:#89DDFF;">map</span><span style="color:#A6ACCD;"> 可以边遍历边删除吗？</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">                  </span></span>
<span class="line"><span style="color:#A6ACCD;">                    查看答案</span></span>
<span class="line"><span style="color:#A6ACCD;">                  </span></span>
<span class="line"><span style="color:#A6ACCD;">                </span></span>
<span class="line"><span style="color:#A6ACCD;">                  答案解析：</span></span>
<span class="line"><span style="color:#A6ACCD;">                  </span><span style="color:#89DDFF;">map</span><span style="color:#A6ACCD;"> 并不是一个线程安全的数据结构。同时读写一个 </span><span style="color:#89DDFF;">map</span><span style="color:#A6ACCD;"> 是未定义的行为，如果被检测到，会直接 panic。</span></span>
<span class="line"><span style="color:#A6ACCD;">上面说的是发生在多个协程同时读写同一个 </span><span style="color:#89DDFF;">map</span><span style="color:#A6ACCD;"> 的情况下。 如果在同一个协程内边遍历边删除，并不会检测到同时读写，理论上是可以这样做的。但是，遍历的结果就可能不会是相同的了，有可能结果遍历结果集中包含了删除的 key，也有可能不包含，这取决于删除 key 的时间：是在遍历到 key 所在的 bucket 时刻前或者后。</span></span>
<span class="line"><span style="color:#A6ACCD;">一般而言，这可以通过读写锁来解决：sync</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">RWMutex。</span></span>
<span class="line"><span style="color:#A6ACCD;">读之前调用 </span><span style="color:#82AAFF;">RLock</span><span style="color:#89DDFF;">()</span><span style="color:#A6ACCD;"> 函数，读完之后调用 </span><span style="color:#82AAFF;">RUnlock</span><span style="color:#89DDFF;">()</span><span style="color:#A6ACCD;"> 函数解锁；写之前调用 </span><span style="color:#82AAFF;">Lock</span><span style="color:#89DDFF;">()</span><span style="color:#A6ACCD;"> 函数，写完之后，调用 </span><span style="color:#82AAFF;">Unlock</span><span style="color:#89DDFF;">()</span><span style="color:#A6ACCD;"> 解锁。</span></span>
<span class="line"><span style="color:#A6ACCD;">另外，sync</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">Map 是线程安全的 </span><span style="color:#89DDFF;">map</span><span style="color:#A6ACCD;">，也可以使用。</span></span>
<span class="line"><span style="color:#A6ACCD;">参考答案来自：https</span><span style="color:#89DDFF;">:</span><span style="color:#676E95;font-style:italic;">//golang.design/go-questions/map/delete-on-range/</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">                </span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br></div></div><h2 id="产品经理" tabindex="-1">产品经理 <a class="header-anchor" href="#产品经理" aria-hidden="true">#</a></h2><p><a href="https://www.woshipm.com/online/5379056.html" target="_blank" rel="noreferrer">“大家都说运营门槛低，但我为什么连面试电话都接不到呢？”</a></p><p><a href="https://www.woshipm.com/marketing/5614933.html" target="_blank" rel="noreferrer">这个定期“疯狂”的“老爷爷”，给品牌营销上了一课</a></p><p><a href="https://www.woshipm.com/it/5614854.html" target="_blank" rel="noreferrer">勾搭上热搜评论区的“算x叔”，差点把我2个月工资都算没了</a></p><p><a href="https://www.woshipm.com/it/5614806.html" target="_blank" rel="noreferrer">电商SaaS的故事，为何不好听了？</a></p><p><a href="https://www.woshipm.com/pd/5614701.html" target="_blank" rel="noreferrer">塑造亲和力的直播间虚拟助理形象</a></p><p><a href="https://www.woshipm.com/pd/5614665.html" target="_blank" rel="noreferrer">写过数万字的操作手册，聊聊用户使用说明书该怎么写？</a></p><p><a href="https://www.woshipm.com/it/5614609.html" target="_blank" rel="noreferrer">转投新东家后，创作者们孤军奋战</a></p><p><a href="https://www.woshipm.com/ai/5614588.html" target="_blank" rel="noreferrer">AI会超越人类吗？——生而为“人”，才是AI最终的宿命</a></p><p><a href="https://www.woshipm.com/operate/5614556.html" target="_blank" rel="noreferrer">卷“货”的时代已过去，卷“内容”的时代正走来</a></p><p><a href="https://www.woshipm.com/marketing/5613872.html" target="_blank" rel="noreferrer">消费降级时代，品牌的作用下降了吗？</a></p><p><a href="https://www.woshipm.com/open/5614540.html" target="_blank" rel="noreferrer">强强联合 | 人人 ✖ 穿山甲 首场直播正式上线，带你全面搭建商业化能力！</a></p><p><a href="https://www.woshipm.com/pd/5614233.html" target="_blank" rel="noreferrer">《羊了个羊》：产品本身并不重要？</a></p><p><a href="https://www.woshipm.com/ai/5613882.html" target="_blank" rel="noreferrer">普通人用了上瘾，艺术家看了流泪：这个爆火的AI真能一键挑战大师画作？</a></p><p><a href="https://www.woshipm.com/operate/5614119.html" target="_blank" rel="noreferrer">心得 | 私域运营的核心策略分享</a></p><p><a href="https://www.woshipm.com/evaluating/5614223.html" target="_blank" rel="noreferrer">思维导图工具的未来</a></p>`,44),p=[t];function l(o,i,h,c,f,b){return r(),e("div",null,p)}const d=a(n,[["render",l]]);export{k as __pageData,d as default};
