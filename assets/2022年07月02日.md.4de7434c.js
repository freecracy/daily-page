import{_ as s,c as n,o as a,a as l}from"./app.eff5f3e9.js";const i=JSON.parse('{"title":"2022年07月02日","description":"","frontmatter":{},"headers":[{"level":2,"title":"头条","slug":"头条","link":"#头条","children":[]},{"level":2,"title":"code","slug":"code","link":"#code","children":[]},{"level":2,"title":"每日一题","slug":"每日一题","link":"#每日一题","children":[]},{"level":2,"title":"产品经理","slug":"产品经理","link":"#产品经理","children":[]}],"relativePath":"2022年07月02日.md","lastUpdated":1656692103000}'),p={name:"2022年07月02日.md"},o=l(`<h1 id="_2022年07月02日" tabindex="-1">2022年07月02日 <a class="header-anchor" href="#_2022年07月02日" aria-hidden="true">#</a></h1><h2 id="头条" tabindex="-1">头条 <a class="header-anchor" href="#头条" aria-hidden="true">#</a></h2><p><a href="https://toutiao.io/k/fj7m6x8" target="_blank" rel="noreferrer">2022年最受欢迎的5大开源自动化和编排技术</a></p><p><a href="https://toutiao.io/k/li8d566" target="_blank" rel="noreferrer">正确复制、重写别人的代码，为什么是件很酷的事情</a></p><p><a href="https://toutiao.io/k/ctnjr3u" target="_blank" rel="noreferrer">如何使用Go调用Kubernetes API？</a></p><p><a href="https://toutiao.io/k/67rtbou" target="_blank" rel="noreferrer">多线程使用不当导致的 OOM</a></p><p><a href="https://toutiao.io/k/fflgnsh" target="_blank" rel="noreferrer">月活 12.8 亿的微信，海量请求下是如何防止崩溃的？</a></p><p><a href="https://toutiao.io/k/8y9lpg1" target="_blank" rel="noreferrer">应用实践 | 10 亿数据秒级关联，货拉拉基于 Apache Doris 的 OLAP 体系演进</a></p><p><a href="https://toutiao.io/k/3snz69l" target="_blank" rel="noreferrer">Google 的软件工程</a></p><p><a href="https://toutiao.io/k/i8hgrov" target="_blank" rel="noreferrer">爆肝一个月的Clickhouse入门篇(持续更新中)</a></p><p><a href="https://toutiao.io/k/p7v4org" target="_blank" rel="noreferrer">陈珙：微服务，它还那么纯粹吗？</a></p><p><a href="https://toutiao.io/k/q3p8l9h" target="_blank" rel="noreferrer">Go1.19 那些事：国产芯片、内存模型等新特性，你知道多少？</a></p><p><a href="https://toutiao.io/k/tx553c1" target="_blank" rel="noreferrer">探索Glide原理</a></p><p><a href="https://toutiao.io/k/gg5peyr" target="_blank" rel="noreferrer">基于 qiankun 的微前端实践</a></p><p><a href="https://toutiao.io/k/vbqwtm4" target="_blank" rel="noreferrer">可观测｜时序数据降采样在Prometheus实践复盘</a></p><p><a href="https://toutiao.io/k/23yvg2z" target="_blank" rel="noreferrer">基于开源流批一体数据同步引擎ChunJun数据还原—DDL解析模块的实战分享</a></p><p><a href="https://toutiao.io/k/3xsc8f0" target="_blank" rel="noreferrer">通过模糊测试CNCF景观提高安全性</a></p><p><a href="https://toutiao.io/k/44hrpkx" target="_blank" rel="noreferrer">一不小心，就踩了 tomcat 的这个坑</a></p><p><a href="https://toutiao.io/k/lhjdquj" target="_blank" rel="noreferrer">探秘Weak实现原理</a></p><p><a href="https://toutiao.io/k/b0g4460" target="_blank" rel="noreferrer">[推荐] 3000帧动画图解MySQL为什么需要binlog、redo log和undo log</a></p><h2 id="code" tabindex="-1">code <a class="header-anchor" href="#code" aria-hidden="true">#</a></h2><p><a href="https://leetcode.cn/problems/minimum-number-of-refueling-stops" target="_blank" rel="noreferrer">最低加油次数</a></p><h2 id="每日一题" tabindex="-1">每日一题 <a class="header-anchor" href="#每日一题" aria-hidden="true">#</a></h2><div class="language-go line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">go</span><pre class="shiki material-palenight"><code><span class="line"><span style="color:#A6ACCD;">                  一次两道题，因为相关的。</span></span>
<span class="line"><span style="color:#F78C6C;">1</span><span style="color:#A6ACCD;">、以下代码输出什么？</span></span>
<span class="line"><span style="color:#89DDFF;">package</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">main</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;">import</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">(</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">&quot;</span><span style="color:#FFCB6B;">fmt</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#89DDFF;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;">func</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">main</span><span style="color:#89DDFF;">()</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">    a </span><span style="color:#89DDFF;">:=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">[]</span><span style="color:#C792EA;">int</span><span style="color:#89DDFF;">{</span><span style="color:#F78C6C;">2</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">1</span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#A6ACCD;">    fmt</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">Println</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">a</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">A：编译错误；B：</span><span style="color:#89DDFF;">[</span><span style="color:#F78C6C;">2</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">1</span><span style="color:#89DDFF;">]</span><span style="color:#A6ACCD;">；C：</span><span style="color:#89DDFF;">[</span><span style="color:#F78C6C;">0</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">0</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">1</span><span style="color:#89DDFF;">]</span><span style="color:#A6ACCD;">；D：</span><span style="color:#89DDFF;">[</span><span style="color:#F78C6C;">0</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">1</span><span style="color:#89DDFF;">]</span></span>
<span class="line"><span style="color:#F78C6C;">2</span><span style="color:#A6ACCD;">、以下代码输出什么？</span></span>
<span class="line"><span style="color:#89DDFF;">package</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">main</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;">func</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">main</span><span style="color:#89DDFF;">()</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">	</span><span style="color:#89DDFF;">var</span><span style="color:#A6ACCD;"> x </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">[]</span><span style="color:#C792EA;">int</span><span style="color:#89DDFF;">{</span><span style="color:#F78C6C;">4</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">44</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">55</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">66</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">1</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">77</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">88</span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#A6ACCD;">	</span><span style="color:#82AAFF;">println</span><span style="color:#89DDFF;">(</span><span style="color:#82AAFF;">len</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">x</span><span style="color:#89DDFF;">),</span><span style="color:#A6ACCD;"> x</span><span style="color:#89DDFF;">[</span><span style="color:#F78C6C;">2</span><span style="color:#89DDFF;">])</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">A：</span><span style="color:#F78C6C;">5</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">66</span><span style="color:#A6ACCD;">；B：</span><span style="color:#F78C6C;">5</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">88</span><span style="color:#A6ACCD;">；C：</span><span style="color:#F78C6C;">7</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">88</span><span style="color:#A6ACCD;">；D：以上都不对</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">                  </span></span>
<span class="line"><span style="color:#A6ACCD;">                    查看答案</span></span>
<span class="line"><span style="color:#A6ACCD;">                  </span></span>
<span class="line"><span style="color:#A6ACCD;">                </span></span>
<span class="line"><span style="color:#A6ACCD;">                  答案解析：</span></span>
<span class="line"><span style="color:#A6ACCD;">                  第 </span><span style="color:#F78C6C;">1</span><span style="color:#A6ACCD;"> 题是 Go 语言爱好者周刊第 </span><span style="color:#F78C6C;">87</span><span style="color:#A6ACCD;">的题目。</span></span>
<span class="line"><span style="color:#A6ACCD;">正确答案是：C，正确率 </span><span style="color:#F78C6C;">52</span><span style="color:#89DDFF;">%</span><span style="color:#A6ACCD;">。这道题相对简单，但依然有近一半的人答错了。</span></span>
<span class="line"><span style="color:#A6ACCD;">而第 </span><span style="color:#F78C6C;">2</span><span style="color:#A6ACCD;"> 题是周刊第 </span><span style="color:#F78C6C;">88</span><span style="color:#A6ACCD;"> 期的题目，正确答案也是 C，只有 </span><span style="color:#F78C6C;">25</span><span style="color:#89DDFF;">%</span><span style="color:#A6ACCD;">。</span></span>
<span class="line"><span style="color:#A6ACCD;">这涉及到 array</span><span style="color:#89DDFF;">/</span><span style="color:#A6ACCD;">slice 的一些相关知识。</span></span>
<span class="line"><span style="color:#F78C6C;">01</span><span style="color:#A6ACCD;"> 数组和切片</span></span>
<span class="line"><span style="color:#A6ACCD;">关于两者，Go 语言规范中都有明确定义。</span></span>
<span class="line"><span style="color:#A6ACCD;">数组是这么说明的：</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">数组是单一类型元素的有序序列，该单一类型称为元素类型。元素的个数被称为数组长度，并且不能为负值。长度是数组类型的一部分；它必须为一个可以被 </span><span style="color:#C792EA;">int</span><span style="color:#A6ACCD;"> 类型的值所代表的非负常量。</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">这里一个关键点就是，长度是数组的一部分，因此 </span><span style="color:#89DDFF;">[</span><span style="color:#F78C6C;">3</span><span style="color:#89DDFF;">]</span><span style="color:#C792EA;">int</span><span style="color:#A6ACCD;"> 和 </span><span style="color:#89DDFF;">[</span><span style="color:#F78C6C;">4</span><span style="color:#89DDFF;">]</span><span style="color:#C792EA;">int</span><span style="color:#A6ACCD;"> 是不同类型。</span></span>
<span class="line"><span style="color:#A6ACCD;">再看看切片：</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">切片是针对一个底层数组的连续段的描述符，它提供了对该数组内有序序列元素的访问。切片类型表示其元素类型的数组的所有切片的集合。元素的数量被称为切片长度，且不能为负。未初始化的切片的值为 </span><span style="color:#89DDFF;">nil</span><span style="color:#A6ACCD;"> 。</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">从 EBNF 的表示可以看出区别：</span></span>
<span class="line"><span style="color:#A6ACCD;">ArrayType   </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">[</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> ArrayLength</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">]</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> ElementType </span><span style="color:#89DDFF;">.</span></span>
<span class="line"><span style="color:#A6ACCD;">SliceType </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">[</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">]</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> ElementType </span><span style="color:#89DDFF;">.</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">也就是说，长度不是切片类型的一部分，切片长度可变。</span></span>
<span class="line"><span style="color:#F78C6C;">02</span><span style="color:#A6ACCD;"> 常见字面量初始化</span></span>
<span class="line"><span style="color:#A6ACCD;">我不打算讲解数组</span><span style="color:#89DDFF;">/</span><span style="color:#A6ACCD;">切片初始化的各种情况，主要介绍常见的字面量初始化，以及和上面题目相关的部分。</span></span>
<span class="line"><span style="color:#A6ACCD;">通常我们会这么初始化一个数组：</span></span>
<span class="line"><span style="color:#89DDFF;">var</span><span style="color:#A6ACCD;"> intSet </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">[</span><span style="color:#F78C6C;">6</span><span style="color:#89DDFF;">]</span><span style="color:#C792EA;">int</span><span style="color:#89DDFF;">{</span><span style="color:#F78C6C;">2</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">4</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">6</span><span style="color:#89DDFF;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">注意 [] 中的 </span><span style="color:#F78C6C;">6</span><span style="color:#A6ACCD;">，它表示数组的长度。因为初始化时，我们只给定了 </span><span style="color:#F78C6C;">3</span><span style="color:#A6ACCD;"> 个数，因此后 </span><span style="color:#F78C6C;">3</span><span style="color:#A6ACCD;"> 个元素是 </span><span style="color:#F78C6C;">0</span><span style="color:#A6ACCD;">：</span></span>
<span class="line"><span style="color:#89DDFF;">[</span><span style="color:#F78C6C;">2</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">4</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">6</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">0</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">0</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">0</span><span style="color:#89DDFF;">]</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">注意和这种写法的区别：</span></span>
<span class="line"><span style="color:#89DDFF;">var</span><span style="color:#A6ACCD;"> intSet </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">[...]</span><span style="color:#C792EA;">int</span><span style="color:#89DDFF;">{</span><span style="color:#F78C6C;">2</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">4</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">6</span><span style="color:#89DDFF;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">对于切片来说，一般这样初始化：</span></span>
<span class="line"><span style="color:#89DDFF;">var</span><span style="color:#A6ACCD;"> intSlice </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">[]</span><span style="color:#C792EA;">int</span><span style="color:#89DDFF;">{</span><span style="color:#F78C6C;">2</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">4</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">6</span><span style="color:#89DDFF;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;">// 或基于 intSet 进行初始化</span></span>
<span class="line"><span style="color:#89DDFF;">var</span><span style="color:#A6ACCD;"> intSlice </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> intSet</span><span style="color:#89DDFF;">[:]</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">当然，针对 Slice，更多时候是通过 make 创建，然后其他方式初始化，这里不展开了。</span></span>
<span class="line"><span style="color:#F78C6C;">03</span><span style="color:#A6ACCD;"> 特殊的初始化</span></span>
<span class="line"><span style="color:#A6ACCD;">在 Go语言规范「Composite literals」部分对数组和切片的字面值初始化进行了规定，因为数组和切片类似，我们这里只说切片的情况。</span></span>
<span class="line"><span style="color:#A6ACCD;">先看组合字面值的 EBNF 表示：</span></span>
<span class="line"><span style="color:#A6ACCD;">CompositeLit  </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> LiteralType</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> LiteralValue </span><span style="color:#89DDFF;">.</span></span>
<span class="line"><span style="color:#A6ACCD;">LiteralType   </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> StructType </span><span style="color:#89DDFF;">|</span><span style="color:#A6ACCD;"> ArrayType </span><span style="color:#89DDFF;">|</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">[</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">...</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">]</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> ElementType </span><span style="color:#89DDFF;">|</span></span>
<span class="line"><span style="color:#A6ACCD;">                SliceType </span><span style="color:#89DDFF;">|</span><span style="color:#A6ACCD;"> MapType </span><span style="color:#89DDFF;">|</span><span style="color:#A6ACCD;"> TypeName </span><span style="color:#89DDFF;">.</span></span>
<span class="line"><span style="color:#A6ACCD;">LiteralValue  </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">{</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">[</span><span style="color:#A6ACCD;"> ElementList</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">[</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">,</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">]</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">],</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">}</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">.</span></span>
<span class="line"><span style="color:#A6ACCD;">ElementList   </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> KeyedElement</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">,</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> KeyedElement </span><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">.</span></span>
<span class="line"><span style="color:#A6ACCD;">KeyedElement  </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">[</span><span style="color:#A6ACCD;"> Key</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">:</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">],</span><span style="color:#A6ACCD;"> Element </span><span style="color:#89DDFF;">.</span></span>
<span class="line"><span style="color:#A6ACCD;">Key           </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> FieldName </span><span style="color:#89DDFF;">|</span><span style="color:#A6ACCD;"> Expression </span><span style="color:#89DDFF;">|</span><span style="color:#A6ACCD;"> LiteralValue </span><span style="color:#89DDFF;">.</span></span>
<span class="line"><span style="color:#A6ACCD;">FieldName     </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> identifier </span><span style="color:#89DDFF;">.</span></span>
<span class="line"><span style="color:#A6ACCD;">Element       </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> Expression </span><span style="color:#89DDFF;">|</span><span style="color:#A6ACCD;"> LiteralValue </span><span style="color:#89DDFF;">.</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">从上到下看，简单解释一下：</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">第 </span><span style="color:#F78C6C;">1</span><span style="color:#A6ACCD;"> 行，表示组合字面值由 LiteralType 和 LiteralValue 构成，其中 LiteralType 表示组合字面值的类型，LiteralValue 表示值；</span></span>
<span class="line"><span style="color:#A6ACCD;">第 </span><span style="color:#F78C6C;">2</span><span style="color:#A6ACCD;"> 行，解释 LiteralType，它可以是 </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> 后面的类型。允许的类型有：结构体、数组、切片、</span><span style="color:#89DDFF;">map</span><span style="color:#A6ACCD;"> 等，其中还可以是类似 </span><span style="color:#89DDFF;">[</span><span style="color:#A6ACCD;">…</span><span style="color:#89DDFF;">]</span><span style="color:#C792EA;">int</span><span style="color:#A6ACCD;"> 的形式；</span></span>
<span class="line"><span style="color:#A6ACCD;">第 </span><span style="color:#F78C6C;">4</span><span style="color:#A6ACCD;"> 行，解释 LiteralValue，它由一对 </span><span style="color:#89DDFF;">{}</span><span style="color:#A6ACCD;"> 包裹，其中包含可选的 ElementList；</span></span>
<span class="line"><span style="color:#A6ACCD;">第 </span><span style="color:#F78C6C;">5</span><span style="color:#A6ACCD;"> 行，解释 ElementList，它由若干 KeyedElement 组成；</span></span>
<span class="line"><span style="color:#A6ACCD;">第 </span><span style="color:#F78C6C;">6</span><span style="color:#A6ACCD;"> 行，解释 KeyedElement，这是该篇题目的重点之处。在 EBNF 中，[] 表示这部分是可选的，因此表示具体元素时，一般 Key 可以省略（</span><span style="color:#89DDFF;">map</span><span style="color:#A6ACCD;"> 不能省略），这就是通常数组和切片的初始化语法；</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">在这个之后，规范上给出了针对数组和切片字面值的应用规则：</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">数组中的每个元素有一个关联的标记其位置的整数索引。</span></span>
<span class="line"><span style="color:#A6ACCD;">带键的元素使用该键作为其索引。这个键必须是可被类型 </span><span style="color:#C792EA;">int</span><span style="color:#A6ACCD;"> 所表示的一个非负常量；而且如果其被赋予了类型的话则必须是整数类型。</span></span>
<span class="line"><span style="color:#A6ACCD;">不带键的元素使用之前元素的索引加一。如果第一个元素没有键，则其索引为零。</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">根据以上 </span><span style="color:#F78C6C;">3</span><span style="color:#A6ACCD;"> 点，我们很容易知道，在 a </span><span style="color:#89DDFF;">:=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">[]</span><span style="color:#C792EA;">int</span><span style="color:#89DDFF;">{</span><span style="color:#F78C6C;">2</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">1</span><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;"> 中，我们指定了第 </span><span style="color:#F78C6C;">3</span><span style="color:#A6ACCD;"> 个元素（注意索引是从 </span><span style="color:#F78C6C;">0</span><span style="color:#A6ACCD;"> 开始的）的值为 </span><span style="color:#F78C6C;">1</span><span style="color:#A6ACCD;">，根据数组</span><span style="color:#89DDFF;">/</span><span style="color:#A6ACCD;">切片的特性，自然存在第 </span><span style="color:#F78C6C;">1</span><span style="color:#A6ACCD;">、</span><span style="color:#F78C6C;">2</span><span style="color:#A6ACCD;"> 个元素，没有指定值时，Go 会为其设置默认值。因此这个写法和下面的写法等价：</span></span>
<span class="line"><span style="color:#A6ACCD;">a </span><span style="color:#89DDFF;">:=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">[]</span><span style="color:#C792EA;">int</span><span style="color:#89DDFF;">{</span><span style="color:#F78C6C;">0</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">0</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">1</span><span style="color:#89DDFF;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">对于第 </span><span style="color:#F78C6C;">88</span><span style="color:#A6ACCD;"> 期的题目：</span></span>
<span class="line"><span style="color:#89DDFF;">var</span><span style="color:#A6ACCD;"> x </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">[]</span><span style="color:#C792EA;">int</span><span style="color:#89DDFF;">{</span><span style="color:#F78C6C;">4</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">44</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">55</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">66</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">1</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">77</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">88</span><span style="color:#89DDFF;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">指定了第 </span><span style="color:#F78C6C;">5</span><span style="color:#A6ACCD;"> 个元素（对应索引是 </span><span style="color:#F78C6C;">4</span><span style="color:#A6ACCD;">），值是 </span><span style="color:#F78C6C;">44</span><span style="color:#A6ACCD;">。根据上面规则的第三点，</span><span style="color:#F78C6C;">55</span><span style="color:#A6ACCD;">、</span><span style="color:#F78C6C;">66</span><span style="color:#A6ACCD;"> 都没有指定索引，因此它们的索引是前一个元素的索引加一，即：</span></span>
<span class="line"><span style="color:#F78C6C;">5</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">55</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">6</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">66</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">下一个元素是 </span><span style="color:#F78C6C;">1</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">77</span><span style="color:#A6ACCD;">，为其指定了索引 </span><span style="color:#F78C6C;">1</span><span style="color:#A6ACCD;">，因此它的下一元素 </span><span style="color:#F78C6C;">88</span><span style="color:#A6ACCD;"> 的索引就是 </span><span style="color:#F78C6C;">2</span><span style="color:#A6ACCD;"> 了，因此这个定义相当于如下的定义：</span></span>
<span class="line"><span style="color:#89DDFF;">var</span><span style="color:#A6ACCD;"> x </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">[]</span><span style="color:#C792EA;">int</span><span style="color:#89DDFF;">{</span><span style="color:#F78C6C;">4</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">44</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">5</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">55</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">6</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">66</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">1</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">77</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">2</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">88</span><span style="color:#89DDFF;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">同样，因为数组</span><span style="color:#89DDFF;">/</span><span style="color:#A6ACCD;">切片的特性，缺少的元素（索引 </span><span style="color:#F78C6C;">0</span><span style="color:#A6ACCD;"> 和 </span><span style="color:#F78C6C;">3</span><span style="color:#A6ACCD;">）值是 </span><span style="color:#F78C6C;">0</span><span style="color:#A6ACCD;">，而整个切片的长度是最大索引加一，即 </span><span style="color:#F78C6C;">7</span><span style="color:#A6ACCD;">。</span></span>
<span class="line"><span style="color:#F78C6C;">04</span><span style="color:#A6ACCD;"> 总结</span></span>
<span class="line"><span style="color:#A6ACCD;">别觉得这道题目恶心，实际中这么写代码可能也确实会被打（当然，第 </span><span style="color:#F78C6C;">87</span><span style="color:#A6ACCD;"> 题的写法还是很有可能的）。这里主要是希望大家多掌握一些规范、细节，我想不少人不清楚，原来数组（切片）也可以指定索引进行初始化。语言语法毕竟必须严谨，而这些都在 Go 语言规范里。</span></span>
<span class="line"><span style="color:#A6ACCD;">延伸思考：第 </span><span style="color:#F78C6C;">88</span><span style="color:#A6ACCD;"> 期的题目，如果改为这样结果又如何？</span></span>
<span class="line"><span style="color:#89DDFF;">var</span><span style="color:#A6ACCD;"> x </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">[]</span><span style="color:#C792EA;">int</span><span style="color:#89DDFF;">{</span><span style="color:#F78C6C;">4</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">44</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">55</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">66</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">3</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">77</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">88</span><span style="color:#89DDFF;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">欢迎大胆的留言说出你的答案！</span></span>
<span class="line"><span style="color:#A6ACCD;">答案解析来自：https</span><span style="color:#89DDFF;">:</span><span style="color:#676E95;font-style:italic;">//polarisxu.studygolang.com/posts/go/action/weekly-question-88/。</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">                </span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br><span class="line-number">63</span><br><span class="line-number">64</span><br><span class="line-number">65</span><br><span class="line-number">66</span><br><span class="line-number">67</span><br><span class="line-number">68</span><br><span class="line-number">69</span><br><span class="line-number">70</span><br><span class="line-number">71</span><br><span class="line-number">72</span><br><span class="line-number">73</span><br><span class="line-number">74</span><br><span class="line-number">75</span><br><span class="line-number">76</span><br><span class="line-number">77</span><br><span class="line-number">78</span><br><span class="line-number">79</span><br><span class="line-number">80</span><br><span class="line-number">81</span><br><span class="line-number">82</span><br><span class="line-number">83</span><br><span class="line-number">84</span><br><span class="line-number">85</span><br><span class="line-number">86</span><br><span class="line-number">87</span><br><span class="line-number">88</span><br><span class="line-number">89</span><br><span class="line-number">90</span><br><span class="line-number">91</span><br><span class="line-number">92</span><br><span class="line-number">93</span><br><span class="line-number">94</span><br><span class="line-number">95</span><br><span class="line-number">96</span><br><span class="line-number">97</span><br><span class="line-number">98</span><br><span class="line-number">99</span><br><span class="line-number">100</span><br><span class="line-number">101</span><br><span class="line-number">102</span><br><span class="line-number">103</span><br><span class="line-number">104</span><br><span class="line-number">105</span><br><span class="line-number">106</span><br><span class="line-number">107</span><br><span class="line-number">108</span><br><span class="line-number">109</span><br><span class="line-number">110</span><br><span class="line-number">111</span><br><span class="line-number">112</span><br><span class="line-number">113</span><br><span class="line-number">114</span><br><span class="line-number">115</span><br><span class="line-number">116</span><br></div></div><h2 id="产品经理" tabindex="-1">产品经理 <a class="header-anchor" href="#产品经理" aria-hidden="true">#</a></h2><p><a href="http://www.woshipm.com/online/5506608.html" target="_blank" rel="noreferrer">0-2岁产品新人必看：如何提高原型设计效率，锻炼深度思考能力？</a></p><p><a href="http://www.woshipm.com/marketing/5510316.html" target="_blank" rel="noreferrer">新手博主如何从0到1？试试这5大步骤【建议收藏】</a></p><p><a href="http://www.woshipm.com/ucd/5508949.html" target="_blank" rel="noreferrer">B端组件设计红黑榜</a></p><p><a href="http://www.woshipm.com/pd/5510063.html" target="_blank" rel="noreferrer">产品设计中的延迟数据</a></p><p><a href="http://www.woshipm.com/operate/5509106.html" target="_blank" rel="noreferrer">案例拆解：从抖音FACT+全域经营方法论拆解「东方甄选」的运营策略</a></p><p><a href="http://www.woshipm.com/marketing/5510074.html" target="_blank" rel="noreferrer">直播电商的“矩阵原理”</a></p><p><a href="http://www.woshipm.com/online/5510102.html" target="_blank" rel="noreferrer">围观｜一批新鲜出炉的产品offer</a></p><p><a href="http://www.woshipm.com/it/5509854.html" target="_blank" rel="noreferrer">网易云音乐做匿名社交，要靠算法赢Soul？</a></p><p><a href="http://www.woshipm.com/operate/5509788.html" target="_blank" rel="noreferrer">有价值的“对标分析”应该怎么做？4000字全详解</a></p><p><a href="http://www.woshipm.com/user-research/5507557.html" target="_blank" rel="noreferrer">“网络效应”的硬核研究：为什么你有更好的产品，却干不过对手？</a></p><p><a href="http://www.woshipm.com/it/5509247.html" target="_blank" rel="noreferrer">中年男性新消费的另类崛起</a></p><p><a href="http://www.woshipm.com/ucd/5508119.html" target="_blank" rel="noreferrer">一条提示信息的N种表现方式</a></p><p><a href="http://www.woshipm.com/it/5509571.html" target="_blank" rel="noreferrer">那款打开率一度超过「Ins」的社交App，停止更新了</a></p><p><a href="http://www.woshipm.com/it/5509398.html" target="_blank" rel="noreferrer">WEB 3.0—用研工作者的时代与狂欢</a></p>`,39),e=[o];function r(t,c,C,D,y,F){return a(),n("div",null,e)}const b=s(p,[["render",r]]);export{i as __pageData,b as default};
