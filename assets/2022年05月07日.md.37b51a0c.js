import{_ as e,c as a,o as r,a as n}from"./app.eff5f3e9.js";const k=JSON.parse('{"title":"2022年05月07日","description":"","frontmatter":{},"headers":[{"level":2,"title":"头条","slug":"头条","link":"#头条","children":[]},{"level":2,"title":"code","slug":"code","link":"#code","children":[]},{"level":2,"title":"每日一题","slug":"每日一题","link":"#每日一题","children":[]},{"level":2,"title":"产品经理","slug":"产品经理","link":"#产品经理","children":[]}],"relativePath":"2022年05月07日.md","lastUpdated":1651854220000}'),t={name:"2022年05月07日.md"},s=n(`<h1 id="_2022年05月07日" tabindex="-1">2022年05月07日 <a class="header-anchor" href="#_2022年05月07日" aria-hidden="true">#</a></h1><h2 id="头条" tabindex="-1">头条 <a class="header-anchor" href="#头条" aria-hidden="true">#</a></h2><p><a href="https://toutiao.io/k/iqlrz7b" target="_blank" rel="noreferrer">架构设计资料合集</a></p><p><a href="https://toutiao.io/k/qdfhpcm" target="_blank" rel="noreferrer">利用 FFmpeg 将视频转换为 GIF 操作指北</a></p><p><a href="https://toutiao.io/k/wzq9f22" target="_blank" rel="noreferrer">如何降低复杂度，用数据库做消息队列的存储？</a></p><p><a href="https://toutiao.io/k/ji1yelr" target="_blank" rel="noreferrer">使用 LSTM 对销售额预测（Python代码）</a></p><p><a href="https://toutiao.io/k/tgdp77t" target="_blank" rel="noreferrer">数据库异常智能分析与诊断</a></p><p><a href="https://toutiao.io/k/iq2x2em" target="_blank" rel="noreferrer">Elasticsearch 快照生命周期管理 (SLM) 实战指南</a></p><p><a href="https://toutiao.io/k/2d7sk19" target="_blank" rel="noreferrer">知识图谱之第一性原理</a></p><p><a href="https://toutiao.io/k/e1dod9e" target="_blank" rel="noreferrer">欢迎加入「我爱程序员」读者圈子，一起交流！</a></p><p><a href="https://toutiao.io/k/7137xju" target="_blank" rel="noreferrer">Go 单体服务开发最佳实践</a></p><p><a href="https://toutiao.io/k/yy6l840" target="_blank" rel="noreferrer">数据仓库—开发规范</a></p><p><a href="https://toutiao.io/k/wpxmhd2" target="_blank" rel="noreferrer">又一个 shell 小技巧</a></p><p><a href="https://toutiao.io/k/3zg33tf" target="_blank" rel="noreferrer">Kubernetes标志着大量采用Sigstore来保护开源生态系统</a></p><p><a href="https://toutiao.io/k/y0swz1b" target="_blank" rel="noreferrer">58神奇管家——基于零信任终端安全管理系统的设计与实现</a></p><p><a href="https://toutiao.io/k/w9oskgz" target="_blank" rel="noreferrer">READS: Salesforce 服务健康指标最佳实践</a></p><p><a href="https://toutiao.io/k/s7xgf9w" target="_blank" rel="noreferrer">Grafana 系列文章（九）：开源云原生日志解决方案 Loki 简介</a></p><p><a href="https://toutiao.io/k/9mjgzx7" target="_blank" rel="noreferrer">独立开发变现周刊（第53期）：“失败的推文”促使我开发了一个年收入49万美元的增长工具</a></p><p><a href="https://toutiao.io/k/9jdi5nv" target="_blank" rel="noreferrer">这个bug，折磨级别五颗星！</a></p><p><a href="https://toutiao.io/k/w3j907a" target="_blank" rel="noreferrer">Android卡顿掉帧问题分析之工具篇</a></p><p><a href="https://toutiao.io/k/3mducf0" target="_blank" rel="noreferrer">听说你还在用开发者工具手动上传小程序，快来试试 miniprogram-ci 提效摸鱼</a></p><p><a href="https://toutiao.io/k/0acpnu3" target="_blank" rel="noreferrer">[推荐] 如果你是一个Golang面试官，你会问哪些问题？</a></p><p><a href="https://toutiao.io/k/957qnad" target="_blank" rel="noreferrer">[推荐] 深入浅出分布式锁</a></p><p><a href="https://toutiao.io/k/srppeol" target="_blank" rel="noreferrer">[推荐] 非常哇塞的 SpringBoot性能优化长文！</a></p><h2 id="code" tabindex="-1">code <a class="header-anchor" href="#code" aria-hidden="true">#</a></h2><p><a href="https://leetcode.cn/problems/minimum-genetic-mutation" target="_blank" rel="noreferrer">最小基因变化</a></p><h2 id="每日一题" tabindex="-1">每日一题 <a class="header-anchor" href="#每日一题" aria-hidden="true">#</a></h2><div class="language-go line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">go</span><pre class="shiki material-palenight"><code><span class="line"><span style="color:#A6ACCD;">                  Go 的 </span><span style="color:#89DDFF;">map</span><span style="color:#A6ACCD;"> 可以边遍历边删除吗？</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">                  </span></span>
<span class="line"><span style="color:#A6ACCD;">                    查看答案</span></span>
<span class="line"><span style="color:#A6ACCD;">                  </span></span>
<span class="line"><span style="color:#A6ACCD;">                </span></span>
<span class="line"><span style="color:#A6ACCD;">                  答案解析：</span></span>
<span class="line"><span style="color:#A6ACCD;">                  </span><span style="color:#89DDFF;">map</span><span style="color:#A6ACCD;"> 并不是一个线程安全的数据结构。同时读写一个 </span><span style="color:#89DDFF;">map</span><span style="color:#A6ACCD;"> 是未定义的行为，如果被检测到，会直接 panic。</span></span>
<span class="line"><span style="color:#A6ACCD;">上面说的是发生在多个协程同时读写同一个 </span><span style="color:#89DDFF;">map</span><span style="color:#A6ACCD;"> 的情况下。 如果在同一个协程内边遍历边删除，并不会检测到同时读写，理论上是可以这样做的。但是，遍历的结果就可能不会是相同的了，有可能结果遍历结果集中包含了删除的 key，也有可能不包含，这取决于删除 key 的时间：是在遍历到 key 所在的 bucket 时刻前或者后。</span></span>
<span class="line"><span style="color:#A6ACCD;">一般而言，这可以通过读写锁来解决：sync</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">RWMutex。</span></span>
<span class="line"><span style="color:#A6ACCD;">读之前调用 </span><span style="color:#82AAFF;">RLock</span><span style="color:#89DDFF;">()</span><span style="color:#A6ACCD;"> 函数，读完之后调用 </span><span style="color:#82AAFF;">RUnlock</span><span style="color:#89DDFF;">()</span><span style="color:#A6ACCD;"> 函数解锁；写之前调用 </span><span style="color:#82AAFF;">Lock</span><span style="color:#89DDFF;">()</span><span style="color:#A6ACCD;"> 函数，写完之后，调用 </span><span style="color:#82AAFF;">Unlock</span><span style="color:#89DDFF;">()</span><span style="color:#A6ACCD;"> 解锁。</span></span>
<span class="line"><span style="color:#A6ACCD;">另外，sync</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">Map 是线程安全的 </span><span style="color:#89DDFF;">map</span><span style="color:#A6ACCD;">，也可以使用。</span></span>
<span class="line"><span style="color:#A6ACCD;">参考答案来自：https</span><span style="color:#89DDFF;">:</span><span style="color:#676E95;font-style:italic;">//golang.design/go-questions/map/delete-on-range/</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">                </span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br></div></div><h2 id="产品经理" tabindex="-1">产品经理 <a class="header-anchor" href="#产品经理" aria-hidden="true">#</a></h2><p><a href="http://www.woshipm.com/online/5406715.html" target="_blank" rel="noreferrer">致B端产品经理：很多人劝你不要跳槽，但他们没讲清楚这3点</a></p><p><a href="http://www.woshipm.com/it/5427029.html" target="_blank" rel="noreferrer">全网显示IP，究竟谁在“裸泳”？</a></p><p><a href="http://www.woshipm.com/pd/5427149.html" target="_blank" rel="noreferrer">微信内测分类清理缓存，从此告别空间不够的烦恼</a></p><p><a href="http://www.woshipm.com/user-research/5422097.html" target="_blank" rel="noreferrer">营销大师还是产品匠人——指标拆解后的答案</a></p><p><a href="http://www.woshipm.com/it/5427037.html" target="_blank" rel="noreferrer">你不会还以为“刘畊宏女孩”们只是在跳健身操吧？</a></p><p><a href="http://www.woshipm.com/operate/5426846.html" target="_blank" rel="noreferrer">慢直播行为艺术展，让视频号走向公域</a></p><p><a href="http://www.woshipm.com/it/5427113.html" target="_blank" rel="noreferrer">疫情之下如何提高公司内部员工满意度</a></p><p><a href="http://www.woshipm.com/pmd/5427549.html" target="_blank" rel="noreferrer">需求调研的4层境界，你在哪一层？</a></p><p><a href="http://www.woshipm.com/operate/5133368.html" target="_blank" rel="noreferrer">浅谈如何落地To G产品规划</a></p><p><a href="http://www.woshipm.com/it/5427261.html" target="_blank" rel="noreferrer">五一约拍火了：99元低价竞争、标题党引流、开班收割</a></p><p><a href="http://www.woshipm.com/it/5427422.html" target="_blank" rel="noreferrer">仅一个月B站涨粉43w+，她靠“易容术”起底B站爆款视频的2个关键</a></p><p><a href="http://www.woshipm.com/marketing/5427056.html" target="_blank" rel="noreferrer">妈呀，母亲节的话题营销这么做我是真的服！</a></p><p><a href="http://www.woshipm.com/pd/5427020.html" target="_blank" rel="noreferrer">设计沉思录｜由内而外的标准化服务设计</a></p><p><a href="http://www.woshipm.com/operate/5427221.html" target="_blank" rel="noreferrer">知识付费，好课的四个标准</a></p><p><a href="http://www.woshipm.com/it/5426227.html" target="_blank" rel="noreferrer">电商不靠自己，直播也救不了你</a></p><p><a href="http://www.woshipm.com/marketing/5424457.html" target="_blank" rel="noreferrer">41%以上用户使用多个内容平台，跨平台内容营销就四个重点！</a></p><p><a href="http://www.woshipm.com/it/5424295.html" target="_blank" rel="noreferrer">头部虚拟主播带货，销量却不及罗永浩零头，虚拟人能抢走李佳琦们的饭碗吗？</a></p><p><a href="http://www.woshipm.com/operate/5426240.html" target="_blank" rel="noreferrer">微信视频号，放量视频带货？</a></p>`,47),p=[s];function l(o,i,h,c,m,f){return r(),a("div",null,p)}const w=e(t,[["render",l]]);export{k as __pageData,w as default};
